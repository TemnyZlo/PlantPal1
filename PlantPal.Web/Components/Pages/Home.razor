@page "/"
@using PlantPal.Shared.Models
@inject PlantPal.Web.Services.ApiService ApiService

<PageTitle>PlantPal - Your Native Gardening Companion</PageTitle>

<!-- Hero Section -->
<section class="bg-gradient-to-r from-plant-green-600 to-plant-green-700 text-white">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20">
        <div class="text-center">
            <h1 class="text-4xl md:text-6xl font-bold mb-6">
                Grow Native, <span class="text-plant-green-200">Grow Smart</span>
            </h1>
            <p class="text-xl md:text-2xl mb-8 text-plant-green-100">
                Discover the perfect native plants for your garden and help create a sustainable ecosystem
            </p>
            <div class="space-x-4">
                <a href="/recommendations" class="bg-white text-plant-green-600 px-8 py-3 rounded-lg font-semibold hover:bg-gray-100 transition-colors">
                    Get Plant Recommendations
                </a>
                <a href="/plants" class="border-2 border-white text-white px-8 py-3 rounded-lg font-semibold hover:bg-white hover:text-plant-green-600 transition-colors">
                    Browse Plants
                </a>
            </div>
        </div>
    </div>
</section>

<!-- Features Section -->
<section class="py-16">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center mb-12">
            <h2 class="text-3xl font-bold text-gray-800 mb-4">Why Choose Native Plants?</h2>
            <p class="text-gray-600 max-w-2xl mx-auto">
                Native plants are adapted to your local climate and soil, requiring less water and maintenance while supporting local wildlife.
            </p>
        </div>
        
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
            <div class="text-center p-6 bg-white rounded-lg shadow-md">
                <div class="text-4xl mb-4">ðŸŒ¿</div>
                <h3 class="text-xl font-semibold mb-2">Eco-Friendly</h3>
                <p class="text-gray-600">Support local ecosystems and reduce your environmental impact</p>
            </div>
            <div class="text-center p-6 bg-white rounded-lg shadow-md">
                <div class="text-4xl mb-4">ðŸ’§</div>
                <h3 class="text-xl font-semibold mb-2">Water Efficient</h3>
                <p class="text-gray-600">Native plants require less watering once established</p>
            </div>
            <div class="text-center p-6 bg-white rounded-lg shadow-md">
                <div class="text-4xl mb-4">ðŸ¦‹</div>
                <h3 class="text-xl font-semibold mb-2">Wildlife Friendly</h3>
                <p class="text-gray-600">Attract butterflies, bees, and birds to your garden</p>
            </div>
        </div>
    </div>
</section>

<!-- Featured Plants Section -->
<section class="py-16 bg-gray-100">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center mb-12">
            <h2 class="text-3xl font-bold text-gray-800 mb-4">Featured Native Plants</h2>
            <p class="text-gray-600">Discover some popular native plants that could thrive in your garden</p>
        </div>
        
        @if (featuredPlants.Any())
        {
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                @foreach (var plant in featuredPlants.Take(6))
                {
                    <div class="bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow">
                        <img src="@(plant.ImageUrl ?? "/images/placeholder-plant.jpg")" 
                             alt="@plant.CommonName" 
                             class="w-full h-48 object-cover">
                        <div class="p-4">
                            <h3 class="text-lg font-semibold text-gray-800 mb-1">@plant.CommonName</h3>
                            <p class="text-sm text-gray-600 mb-2 italic">@plant.ScientificName</p>
                            <div class="flex items-center mb-2">
                                @if (plant.IsNative)
                                {
                                    <span class="bg-plant-green-100 text-plant-green-800 text-xs px-2 py-1 rounded-full mr-2">Native</span>
                                }
                                <span class="text-xs text-gray-500">@plant.BloomingSeason</span>
                            </div>
                            <p class="text-sm text-gray-700 line-clamp-2">@plant.Description</p>
                        </div>
                    </div>
                }
            </div>
        }
        else
        {
            <div class="text-center py-8">
                <p class="text-gray-500">Loading featured plants...</p>
            </div>
        }
        
        <div class="text-center mt-8">
            <a href="/plants" class="bg-plant-green-600 text-white px-6 py-3 rounded-lg hover:bg-plant-green-700 transition-colors">
                View All Plants
            </a>
        </div>
    </div>
</section>

<!-- CTA Section -->
<section class="py-16 bg-plant-green-600 text-white">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
        <h2 class="text-3xl font-bold mb-4">Ready to Start Your Native Garden?</h2>
        <p class="text-xl mb-8 text-plant-green-100">
            Get personalized plant recommendations based on your location and garden conditions
        </p>
        <a href="/recommendations" class="bg-white text-plant-green-600 px-8 py-3 rounded-lg font-semibold hover:bg-gray-100 transition-colors">
            Get Started Now
        </a>
    </div>
</section>

@code {
    private List<Plant> featuredPlants = new();

    protected override async Task OnInitializedAsync()
    {
        try
        {
            featuredPlants = await ApiService.GetAllPlantsAsync();
        }
        catch (Exception ex)
        {
            // Handle error - in production, you'd want proper error logging
            Console.WriteLine($"Error loading plants: {ex.Message}");
        }
    }
}